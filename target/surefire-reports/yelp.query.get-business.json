[{"line":1,"elements":[{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url host","result":{"duration":43578,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4},{"name":"header Authorization = 'Bearer '+apiKey","result":{"duration":3245857,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5}]},{"line":8,"name":"query for a business by id","description":"","id":"query-for-a-business-by-id","type":"scenario","keyword":"Scenario","steps":[{"name":"text query =","result":{"duration":54356,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":9,"doc_string":{"content_type":"","value":"{\n  business(id: \"garaje-san-francisco\"){\n    name\n    id\n    alias\n    url\n  }\n}","line":9}},{"name":"request { query: '#(query)' }","result":{"duration":3267396,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":20},{"name":"method post","result":{"duration":816476618,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":21,"doc_string":{"content_type":"","value":"10:40:43.402 request:\n1 > POST https:\/\/api.yelp.com\/v3\/graphql\n1 > Accept-Encoding: gzip,deflate\n1 > Authorization: Bearer 5_nPFBUTmvLfrcBDBDz3JvpXc1zllnvgD6w3JBCQjN09_KV1q-I4iFrMLTuEtUlLj7QCAZkDnVfl47FgJEbSVBM8gQbpDjon-lz27yHXc1XwXGzQTv5isrK_dSI-X3Yx\n1 > Connection: Keep-Alive\n1 > Content-Length: 102\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: api.yelp.com\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_222)\n{\"query\":\"{\\n  business(id: \\\"garaje-san-francisco\\\"){\\n    name\\n    id\\n    alias\\n    url\\n  }\\n}\"}\n\n10:40:44.054 response time in milliseconds: 649.55\n1 < 200\n1 < Accept-Ranges: bytes\n1 < Connection: keep-alive\n1 < Date: Thu, 27 Aug 2020 09:40:44 GMT\n1 < Vary: Accept-Encoding\n1 < Via: 1.1 varnish\n1 < X-Cache: MISS\n1 < X-Cache-Hits: 0\n1 < X-Served-By: cache-dub4332-DUB\n1 < content-type: application\/json\n1 < server: openresty\/1.13.6.2\n1 < transfer-encoding: chunked\n1 < x-b3-sampled: 0\n1 < x-extlb: 10-65-64-83-useast1aprod\n1 < x-proxied: 10-65-64-83-useast1aprod\n1 < x-routing-service: routing-main--useast1-5bcb54c99f-mtp8t; site=public_api_v3\n1 < x-zipkin-id: 2b0050eb8aa97bea\n{\"data\":{\"business\":{\"name\":\"Garaje\",\"id\":\"tnhfDv5Il8EaGSXZGiuQGg\",\"alias\":\"garaje-san-francisco\",\"url\":\"https:\/\/www.yelp.com\/biz\/garaje-san-francisco?adjust_creative=6AbCaexLqwnJsHqFj_HZBQ&utm_campaign=yelp_api_v3&utm_medium=api_v3_graphql&utm_source=6AbCaexLqwnJsHqFj_HZBQ\"}}}","line":21}},{"name":"status 200","result":{"duration":14375,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":22},{"name":"match response ==","result":{"duration":1521672,"error_message":"com.intuit.karate.exception.KarateException: get-business.feature:23 - path: $.data.business.name, actual: 'Garaje', expected: 'Garajehfjhsfdhk', reason: not equal","status":"failed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":23,"doc_string":{"content_type":"","value":"{\n  \"data\": {\n    \"business\": {\n      \"name\": \"Garajehfjhsfdhk\",\n      \"id\": \"tnhfDv5Il8EaGSXZGiuQGg\",\n      \"alias\": \"garaje-san-francisco\",\n      \"url\": \"https:\/\/www.yelp.com\/biz\/garaje-san-francisco?adjust_creative=6AbCaexLqwnJsHqFj_HZBQ&utm_campaign=yelp_api_v3&utm_medium=api_v3_graphql&utm_source=6AbCaexLqwnJsHqFj_HZBQ\"\n    }\n  }\n}\n10:40:44.057 assertion failed: path: $.data.business.name, actual: 'Garaje', expected: 'Garajehfjhsfdhk', reason: not equal","line":23}}],"tags":[{"name":"@business","line":7}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url host","result":{"duration":43740,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4},{"name":"header Authorization = 'Bearer '+apiKey","result":{"duration":3296177,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5}]},{"line":38,"name":"search for burritos in Cork","description":"","id":"search-for-burritos-in-cork","type":"scenario","keyword":"Scenario","steps":[{"name":"text query =","result":{"duration":51580,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39,"doc_string":{"content_type":"","value":"{\n search(term: \"burrito\", location: \"cork\" limit: 2) {\n     total\n         business {\n             name\n             rating\n             location {\n                 address1\n                 city\n                 state\n                 country\n             }\n         reviews(limit: 1) {\n             text\n             rating\n             user {\n                 name\n             }\n         }\n     }\n }\n    }","line":39}},{"name":"request { query: '#(query)' }","result":{"duration":3266254,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":64},{"name":"method post","result":{"duration":1064956449,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":65,"doc_string":{"content_type":"","value":"10:40:43.402 request:\n1 > POST https:\/\/api.yelp.com\/v3\/graphql\n1 > Accept-Encoding: gzip,deflate\n1 > Authorization: Bearer 5_nPFBUTmvLfrcBDBDz3JvpXc1zllnvgD6w3JBCQjN09_KV1q-I4iFrMLTuEtUlLj7QCAZkDnVfl47FgJEbSVBM8gQbpDjon-lz27yHXc1XwXGzQTv5isrK_dSI-X3Yx\n1 > Connection: Keep-Alive\n1 > Content-Length: 447\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: api.yelp.com\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_222)\n{\"query\":\"{\\n search(term: \\\"burrito\\\", location: \\\"cork\\\" limit: 2) {\\n     total\\n         business {\\n             name\\n             rating\\n             location {\\n                 address1\\n                 city\\n                 state\\n                 country\\n             }\\n         reviews(limit: 1) {\\n             text\\n             rating\\n             user {\\n                 name\\n             }\\n         }\\n     }\\n }\\n    }\"}\n\n10:40:44.303 response time in milliseconds: 898.94\n1 < 200\n1 < Accept-Ranges: bytes\n1 < Connection: keep-alive\n1 < Date: Thu, 27 Aug 2020 09:40:44 GMT\n1 < Vary: Accept-Encoding\n1 < Via: 1.1 varnish\n1 < X-Cache: MISS\n1 < X-Cache-Hits: 0\n1 < X-Served-By: cache-dub4336-DUB\n1 < content-type: application\/json\n1 < server: openresty\/1.13.6.2\n1 < transfer-encoding: chunked\n1 < x-b3-sampled: 0\n1 < x-extlb: 10-65-66-213-useast1aprod\n1 < x-proxied: 10-65-66-213-useast1aprod\n1 < x-routing-service: routing-main--useast1-5bcb54c99f-7g297; site=public_api_v3\n1 < x-zipkin-id: d5cccefdb8bb3fe2\n{\"data\":{\"search\":{\"total\":3,\"business\":[{\"name\":\"La Calavera\",\"rating\":4.0,\"location\":{\"address1\":\"4 Douglas West\",\"city\":\"Cork\",\"state\":\"CO\",\"country\":\"IE\"},\"reviews\":[{\"text\":\"Saw the sign up for La Calavera for a couple months and was waiting for it to open- now it's here.\\n\\nWent for a first try tonight and found tasty...\",\"rating\":4,\"user\":{\"name\":\"Daniel P.\"}}]},{\"name\":\"Brendan's Veggie Burritos and Burgers\",\"rating\":4.0,\"location\":{\"address1\":\"Patrick Street\",\"city\":\"Cork\",\"state\":\"CO\",\"country\":\"IE\"},\"reviews\":[{\"text\":\"BRENDAN'S VEGGIES BURRITOS and BURGERS\\nFast (well, fairly fast) Food stalls did a roaring trade during the weekend Jazz festival. I found myself in the...\",\"rating\":4,\"user\":{\"name\":\"cork\"}}]}]}}}","line":65}},{"name":"status 200","result":{"duration":9039,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":66},{"name":"match response ==","result":{"duration":790610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":67,"doc_string":{"content_type":"","value":"{\n  \"data\": {\n      \"search\": {\n          \"total\": '#number',\n          \"business\": '#array'\n      }\n  }\n}","line":67}}],"tags":[{"name":"@business","line":37}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url host","result":{"duration":16134,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4},{"name":"header Authorization = 'Bearer '+apiKey","result":{"duration":593632,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5}]},{"line":104,"name":"test all query variables","description":"","id":"test-all-query-variables","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"text query =","result":{"duration":18601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":81,"doc_string":{"content_type":"","value":"{\n  business(id: \"garaje-san-francisco\"){\n    alias\n  }\n}","line":81}},{"name":"request { query: '#(query)' }","result":{"duration":552682,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":89},{"name":"method post","result":{"duration":295517258,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":90,"doc_string":{"content_type":"","value":"10:40:44.066 request:\n1 > POST https:\/\/api.yelp.com\/v3\/graphql\n1 > Accept-Encoding: gzip,deflate\n1 > Authorization: Bearer 5_nPFBUTmvLfrcBDBDz3JvpXc1zllnvgD6w3JBCQjN09_KV1q-I4iFrMLTuEtUlLj7QCAZkDnVfl47FgJEbSVBM8gQbpDjon-lz27yHXc1XwXGzQTv5isrK_dSI-X3Yx\n1 > Connection: Keep-Alive\n1 > Content-Length: 75\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: api.yelp.com\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_222)\n{\"query\":\"{\\n  business(id: \\\"garaje-san-francisco\\\"){\\n    alias\\n  }\\n}\"}\n\n10:40:44.360 response time in milliseconds: 293.53\n1 < 200\n1 < Accept-Ranges: bytes\n1 < Connection: keep-alive\n1 < Date: Thu, 27 Aug 2020 09:40:44 GMT\n1 < Vary: Accept-Encoding\n1 < Via: 1.1 varnish\n1 < X-Cache: MISS\n1 < X-Cache-Hits: 0\n1 < X-Served-By: cache-dub4343-DUB\n1 < content-type: application\/json\n1 < server: openresty\/1.13.6.2\n1 < transfer-encoding: chunked\n1 < x-b3-sampled: 0\n1 < x-extlb: 10-65-72-168-useast1aprod\n1 < x-proxied: 10-65-72-168-useast1aprod\n1 < x-routing-service: routing-main--useast1-5bcb54c99f-knh68; site=public_api_v3\n1 < x-zipkin-id: 7499a942d6f71c6b\n{\"data\":{\"business\":{\"alias\":\"garaje-san-francisco\"}}}","line":90}},{"name":"status 200","result":{"duration":7980,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":91},{"name":"match response ==","result":{"duration":203767,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":92,"doc_string":{"content_type":"","value":"{\n      \"data\": {\n \"business\": {\n   \"alias\": \"#string\"\n }\n      }\n    }","line":92}}],"tags":[{"name":"@business","line":79}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url host","result":{"duration":15938,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4},{"name":"header Authorization = 'Bearer '+apiKey","result":{"duration":353282,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5}]},{"line":105,"name":"test all query variables","description":"","id":"test-all-query-variables","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"text query =","result":{"duration":12672,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":81,"doc_string":{"content_type":"","value":"{\n  business(id: \"garaje-san-francisco\"){\n    url\n  }\n}","line":81}},{"name":"request { query: '#(query)' }","result":{"duration":564430,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":89},{"name":"method post","result":{"duration":261017183,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":90,"doc_string":{"content_type":"","value":"10:40:44.312 request:\n1 > POST https:\/\/api.yelp.com\/v3\/graphql\n1 > Accept-Encoding: gzip,deflate\n1 > Authorization: Bearer 5_nPFBUTmvLfrcBDBDz3JvpXc1zllnvgD6w3JBCQjN09_KV1q-I4iFrMLTuEtUlLj7QCAZkDnVfl47FgJEbSVBM8gQbpDjon-lz27yHXc1XwXGzQTv5isrK_dSI-X3Yx\n1 > Connection: Keep-Alive\n1 > Content-Length: 73\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: api.yelp.com\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_222)\n{\"query\":\"{\\n  business(id: \\\"garaje-san-francisco\\\"){\\n    url\\n  }\\n}\"}\n\n10:40:44.572 response time in milliseconds: 258.78\n1 < 200\n1 < Accept-Ranges: bytes\n1 < Connection: keep-alive\n1 < Date: Thu, 27 Aug 2020 09:40:44 GMT\n1 < Vary: Accept-Encoding\n1 < Via: 1.1 varnish\n1 < X-Cache: MISS\n1 < X-Cache-Hits: 0\n1 < X-Served-By: cache-dub4327-DUB\n1 < content-type: application\/json\n1 < server: openresty\/1.13.6.2\n1 < transfer-encoding: chunked\n1 < x-b3-sampled: 0\n1 < x-extlb: 10-65-64-83-useast1aprod\n1 < x-proxied: 10-65-64-83-useast1aprod\n1 < x-routing-service: routing-main--useast1-5bcb54c99f-knh68; site=public_api_v3\n1 < x-zipkin-id: c793c939b07871f7\n{\"data\":{\"business\":{\"url\":\"https:\/\/www.yelp.com\/biz\/garaje-san-francisco?adjust_creative=6AbCaexLqwnJsHqFj_HZBQ&utm_campaign=yelp_api_v3&utm_medium=api_v3_graphql&utm_source=6AbCaexLqwnJsHqFj_HZBQ\"}}}","line":90}},{"name":"status 200","result":{"duration":8796,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":91},{"name":"match response ==","result":{"duration":226479,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":92,"doc_string":{"content_type":"","value":"{\n      \"data\": {\n \"business\": {\n   \"url\": \"#string\"\n }\n      }\n    }","line":92}}],"tags":[{"name":"@business","line":79}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url host","result":{"duration":13478,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4},{"name":"header Authorization = 'Bearer '+apiKey","result":{"duration":277635,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5}]},{"line":106,"name":"test all query variables","description":"","id":"test-all-query-variables","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"text query =","result":{"duration":9382,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":81,"doc_string":{"content_type":"","value":"{\n  business(id: \"garaje-san-francisco\"){\n    is_claimed\n  }\n}","line":81}},{"name":"request { query: '#(query)' }","result":{"duration":362071,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":89},{"name":"method post","result":{"duration":270210927,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":90,"doc_string":{"content_type":"","value":"10:40:44.367 request:\n1 > POST https:\/\/api.yelp.com\/v3\/graphql\n1 > Accept-Encoding: gzip,deflate\n1 > Authorization: Bearer 5_nPFBUTmvLfrcBDBDz3JvpXc1zllnvgD6w3JBCQjN09_KV1q-I4iFrMLTuEtUlLj7QCAZkDnVfl47FgJEbSVBM8gQbpDjon-lz27yHXc1XwXGzQTv5isrK_dSI-X3Yx\n1 > Connection: Keep-Alive\n1 > Content-Length: 80\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: api.yelp.com\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_222)\n{\"query\":\"{\\n  business(id: \\\"garaje-san-francisco\\\"){\\n    is_claimed\\n  }\\n}\"}\n\n10:40:44.636 response time in milliseconds: 268.19\n1 < 200\n1 < Accept-Ranges: bytes\n1 < Connection: keep-alive\n1 < Date: Thu, 27 Aug 2020 09:40:44 GMT\n1 < Vary: Accept-Encoding\n1 < Via: 1.1 varnish\n1 < X-Cache: MISS\n1 < X-Cache-Hits: 0\n1 < X-Served-By: cache-dub4327-DUB\n1 < content-type: application\/json\n1 < server: openresty\/1.13.6.2\n1 < transfer-encoding: chunked\n1 < x-b3-sampled: 0\n1 < x-extlb: 10-65-190-208-useast1bprod\n1 < x-proxied: 10-65-190-208-useast1bprod\n1 < x-routing-service: routing-main--useast1-5bcb54c99f-5sr4s; site=public_api_v3\n1 < x-zipkin-id: 86f038c0298ca249\n{\"data\":{\"business\":{\"is_claimed\":true}}}","line":90}},{"name":"status 200","result":{"duration":8878,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":91},{"name":"match response ==","result":{"duration":235413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":92,"doc_string":{"content_type":"","value":"{\n      \"data\": {\n \"business\": {\n   \"is_claimed\": \"#boolean\"\n }\n      }\n    }","line":92}}],"tags":[{"name":"@business","line":79}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url host","result":{"duration":10574,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4},{"name":"header Authorization = 'Bearer '+apiKey","result":{"duration":262406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5}]},{"line":107,"name":"test all query variables","description":"","id":"test-all-query-variables","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"text query =","result":{"duration":8995,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":81,"doc_string":{"content_type":"","value":"{\n  business(id: \"garaje-san-francisco\"){\n    rating\n  }\n}","line":81}},{"name":"request { query: '#(query)' }","result":{"duration":770533,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":89},{"name":"method post","result":{"duration":252233743,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":90,"doc_string":{"content_type":"","value":"10:40:44.579 request:\n1 > POST https:\/\/api.yelp.com\/v3\/graphql\n1 > Accept-Encoding: gzip,deflate\n1 > Authorization: Bearer 5_nPFBUTmvLfrcBDBDz3JvpXc1zllnvgD6w3JBCQjN09_KV1q-I4iFrMLTuEtUlLj7QCAZkDnVfl47FgJEbSVBM8gQbpDjon-lz27yHXc1XwXGzQTv5isrK_dSI-X3Yx\n1 > Connection: Keep-Alive\n1 > Content-Length: 76\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: api.yelp.com\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_222)\n{\"query\":\"{\\n  business(id: \\\"garaje-san-francisco\\\"){\\n    rating\\n  }\\n}\"}\n\n10:40:44.830 response time in milliseconds: 250.06\n1 < 200\n1 < Accept-Ranges: bytes\n1 < Connection: keep-alive\n1 < Date: Thu, 27 Aug 2020 09:40:44 GMT\n1 < Vary: Accept-Encoding\n1 < Via: 1.1 varnish\n1 < X-Cache: MISS\n1 < X-Cache-Hits: 0\n1 < X-Served-By: cache-dub4348-DUB\n1 < content-type: application\/json\n1 < server: openresty\/1.13.6.2\n1 < transfer-encoding: chunked\n1 < x-b3-sampled: 0\n1 < x-extlb: 10-65-66-213-useast1aprod\n1 < x-proxied: 10-65-66-213-useast1aprod\n1 < x-routing-service: routing-main--useast1-5bcb54c99f-thbg9; site=public_api_v3\n1 < x-zipkin-id: 108d7590a09eff68\n{\"data\":{\"business\":{\"rating\":4.5}}}","line":90}},{"name":"status 200","result":{"duration":8052,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":91},{"name":"match response ==","result":{"duration":194740,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":92,"doc_string":{"content_type":"","value":"{\n      \"data\": {\n \"business\": {\n   \"rating\": \"#number\"\n }\n      }\n    }","line":92}}],"tags":[{"name":"@business","line":79}]}],"name":"yelp\/query\/get-business.feature","description":"test query business","id":"test-query-business","keyword":"Feature","uri":"yelp\/query\/get-business.feature"}]